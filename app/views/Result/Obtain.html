{{set . "title" "Obtained"}}
{{template "header.html" .}}



<div id="offcanvas-slide" uk-offcanvas>
    <div class="uk-offcanvas-bar">

        <ul class="uk-nav uk-nav-default">
            <li class="uk-active"><a href="/">Home</a></li>
            <li><a href="/Profit">Profits</a></li>
        </ul>

    </div>
</div>

<section>
    <div class="uk-section uk-background-secondary uk-animation-slide-left uk-light">
        <div class="uk-container">
            <div class="uk-width-4-5 uk-float-right">
                <h1>{{.DiscordUser.UniqueID}}</h1>
                <h2>Analysis</h2>
                <h4><img class="itemicon" value="{{.baseinfo.Recipes.IconID}}" uk-img> {{.baseinfo.Recipes.Name}}</h4>
                <ul class="uk-list">
                    <li>Marketboard Price: <span class="pricenumber">{{.baseinfo.Profits.MarketboardPrice}}</span></li>
                    <li>
                        Material Costs: <span class="pricenumber">{{.baseinfo.Profits.MaterialCosts}}</span>
                    </li>
                    <li>Amount Result from RecipeID: {{.baseinfo.Recipes.AmountResult}}</li>
                    <li>All Sold Profit: <span class="pricenumber">{{.baseinfo.Profits.Profits}}</span></li>
                    <li>Profit Percentage: {{.baseinfo.Profits.ProfitPercentage}}%</li>
                    {{$basecostarray := index .baseinfo.Matprofitmaps.Costs .baseinfo.Recipes.ItemResultTargetID}}
                </ul>
            </div>
        </div>
    </div>
</section>
<section>
    <div class="uk-section uk-section-muted uk-animation-slide-left">
        <div class="uk-container">
            <div class="uk-width-4-5 uk-float-right">
                <h3>Materials</h3>
                <ul class="uk-list" id="mainrecipelist" uk-accordion="multiple: true">
                    {{range $itemindex, $itemID := .baseinfo.Recipes.IngredientID}}
                    {{$itemarray := index $.baseinfo.Matprofitmaps.Ingredients $itemID}}
                    <li class="uk-close" value="{{$itemID}}">
                        <a class="uk-accordion-title" href="#">
                            <h4>
                                <img class="itemicon" value="{{index $.baseinfo.Recipes.IngredientIconID $itemindex}}"
                                    uk-img>
                                {{index $.baseinfo.Recipes.IngredientNames $itemindex}}
                                <span class="itemamount"
                                    value="{{index $.baseinfo.Recipes.IngredientAmounts $itemindex}}">
                                    x{{index $.baseinfo.Recipes.IngredientAmounts $itemindex}}</span>
                            </h4>
                        </a>
                        <div class=" uk-accordion-content">
                            <ul class="uk-list" id="materialinfo">
                                <li class="pricenumber" style="margin-top: -20px;">Marketboard Price:
                                    {{index $basecostarray $itemindex}}</li>
                                <li class="pricenumber" value="{{index $.baseinfo.Matprofitmaps.Total $itemID}}">
                                    Material Cost for One:
                                    {{index $.baseinfo.Matprofitmaps.Total $itemID}}
                                </li>
                                <li class="pricenumber totalcost"
                                    value="{{index $.baseinfo.Matprofitmaps.Total $itemID}}">
                                    Total Cost:
                                </li>
                                <li>Item ID: {{$itemID}}</li>
                            </ul>


                            <ul class="uk-list" id="materiallist" uk-accordion="multiple: true"
                                style="margin-top: 20px;">
                                {{range $index, $matid := $itemarray}}
                                {{$pricearray := index $.baseinfo.Matprofitmaps.Costs $itemID}}
                                {{$namearray := index $.baseinfo.Matprofitmaps.Names $itemID}}
                                {{$iconarray := index $.baseinfo.Matprofitmaps.IconID $itemID}}
                                <li class="uk-close" value="{{$matid}}">
                                    <a class="uk-accordion-title" href="#">
                                        <h5>
                                            <img class="itemicon" value="{{index $iconarray $index}}" uk-img>
                                            {{index $namearray $index}}
                                        </h5>
                                    </a>
                                    <div class="uk-accordion-content">
                                        <ul class="uk-list">
                                            <li style="margin-top: -20px;">Cost: {{index $pricearray $index}}
                                            </li>
                                        </ul>
                                        {{range $innermatindex, $matofmatid := index $.baseinfo.Matprofitmaps.Ingredients $matid}}
                                        {{$innermaticonidarray := index $.baseinfo.Matprofitmaps.IconID $matid}}
                                        {{$innermatnamearray := index $.baseinfo.Matprofitmaps.Names $matid}}
                                        {{$innerpricearray := index $.baseinfo.Matprofitmaps.Costs $matid}}
                                        <ul class="uk-list" uk-accordion="multiple: true">
                                            <li class="uk-close" value="{{$matofmatid}}">
                                                <a class="uk-accordion-title" href="#">
                                                    <h5>
                                                        <img class="itemicon"
                                                            value="{{index $innermaticonidarray $innermatindex}}"
                                                            uk-img>
                                                        {{index $innermatnamearray $innermatindex}}
                                                    </h5>
                                                </a>
                                                <div class="uk-accordion-content">
                                                    <ul class="uk-list">
                                                        <li style="margin-top: -20px;">Cost:
                                                            {{index $innerpricearray $innermatindex}}
                                                        </li>
                                                    </ul>
                                                </div>
                                            </li>
                                        </ul>
                                        {{end}}
                                    </div>
                                </li>
                                {{end}}
                            </ul>
                        </div>
                    </li>
                    {{end}}
                </ul>
            </div>
            <!-- Removes the Empty Material information -->
            <script src="/public/js/obtain.js"></script>
            <script>
                removeemptymaterials();
                getitemicon();
                gettotalcosts();
                changetodecimals();
                innermaterials();
            </script>
        </div>
    </div>
</section>

{{template "footer.html" .}}