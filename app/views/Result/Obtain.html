{{set . "title" "Obtained"}}
{{template "header.html" .}}


<header class="jumbotron" style="background-color:#A9F16C">
    <div class="container">
        <div class="row">
            <h1>RESULTS</h1>
            <a href="../">
                <p>Home Page</p>
            </a>
        </div>
    </div>
</header>

<div>
    <h2>Analysis</h2>
    <ul>
        <li>ItemID: {{.results.ItemID}}</li>
        <li>RecipeID: {{.results.RecipeID}}</li>
        <li>Marketboard Price: {{.results.MarketboardPrice}}</li>
        <li>Material Costs: {{.results.MaterialCosts}}</li>
        <li>Profits: {{.results.Profits}}</li>
        <li>Profit Percentage: {{.results.ProfitPercentage}}</li>
        <li>Main Materials : {{index .materialingredients .results.ItemID}}</li>
    </ul>
    <h2>Material Recipes</h2>
    <ol id="materialrecipes">
        {{range $i, $matID := index .materialingredients .results.ItemID}}
        <li>
            <span class="matID" id={{$matID}}>{{$matID}}</span>
            <span class="matMap">{{index $.materialingredients $matID}}</span>
        </li>
        {{end}}
    </ol>

    <script src="/public/js/obtain.js"></script>
    <script type="text/javascript">
        removeemptyarrays();
    </script>

    <h2>Information Used</h2>
    <ul>
        {{range $materialPIDs,$pricearray := .materialprices}}
        <li><strong>{{$materialPIDs}}</strong>: {{$pricearray}}</li>
        {{end}}
    </ul>
    <h2>Material Info</h2>
    <ul>
        {{range $materialIIDs, $matarray := .materialingredients}}
        <li><strong>{{$materialIIDs}}</strong>: {{$matarray}}</li>
        {{end}}
    </ul>
    <form action="/Result/Obtain" method="post">
        <div class="form-group">
            <div class="row">
                <label for="todo" class="col-xs-2">Insert itemID for force updates</label>
                <input type="number" name="itemID" class="col-xs-8">
                <div class="col-xs-2">
                    <button type="submit" class="btn btn-success">
                        <i class="fa fa-plus"></i> Update
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>

{{template "footer.html" .}}